#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile.source.cached
#1 transferring dockerfile: 2.69kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:22-alpine
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:22.21.1-alpine3.22
#3 DONE 1.8s

#4 [internal] load .dockerignore
#4 transferring context: 737B done
#4 DONE 0.0s

#5 [builder  1/13] FROM docker.io/library/node:22.21.1-alpine3.22@sha256:b2358485e3e33bc3a33114d2b1bdb18cdbe4df01bd2b257198eb51beb1f026c5
#5 DONE 0.0s

#6 [stage-1 1/6] FROM docker.io/library/node:22-alpine
#6 DONE 0.0s

#7 [stage-1 2/6] WORKDIR /home/node
#7 CACHED

#8 [stage-1 3/6] RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk add --no-cache     python3     graphicsmagick     tini     tzdata     ca-certificates     libc6-compat     busybox-binsh &&     npm install -g full-icu@1.5.0
#8 CACHED

#9 [internal] load build context
#9 transferring context: 433.26MB 4.8s
#9 transferring context: 865.36MB 9.9s
#9 transferring context: 1.32GB 15.0s
#9 transferring context: 1.71GB 20.0s
#9 transferring context: 1.80GB 21.9s done
#9 DONE 22.3s

#10 [builder  5/13] COPY pnpm-lock.yaml pnpm-workspace.yaml package.json turbo.json .npmrc ./
#10 CACHED

#11 [builder  6/13] COPY scripts/ ./scripts/
#11 CACHED

#12 [builder  2/13] RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk add --no-cache     git     python3     make     g++     libc6-compat     busybox-binsh     bash
#12 CACHED

#13 [builder  3/13] RUN corepack enable && corepack prepare pnpm@10.22.0 --activate
#13 CACHED

#14 [builder  4/13] WORKDIR /app
#14 CACHED

#15 [builder  7/13] COPY patches/ ./patches/
#15 CACHED

#16 [builder  8/13] COPY packages/ ./packages/
#16 DONE 6.2s

#17 [builder  9/13] COPY .pnpm-store /root/.local/share/pnpm/store
#17 DONE 22.4s

#18 [builder 10/13] RUN pnpm install --frozen-lockfile --offline --ignore-scripts
#18 107.6  ERR_PNPM_NO_OFFLINE_TARBALL  A package is missing from the store but cannot download it in offline mode. The missing package may be downloaded from https://cdn.sheetjs.com/xlsx-0.20.2/xlsx-0.20.2.tgz.
#18 ERROR: process "/bin/sh -c pnpm install --frozen-lockfile --offline --ignore-scripts" did not complete successfully: exit code: 1
------
 > [builder 10/13] RUN pnpm install --frozen-lockfile --offline --ignore-scripts:
107.6  ERR_PNPM_NO_OFFLINE_TARBALL  A package is missing from the store but cannot download it in offline mode. The missing package may be downloaded from https://cdn.sheetjs.com/xlsx-0.20.2/xlsx-0.20.2.tgz.
------
Dockerfile.source.cached:40
--------------------
  38 |     # --ignore-scripts: 跳过 preinstall/postinstall 等脚本，避免缺少依赖导致失败
  39 |     # --offline: 强制使用本地 store，完全不访问网络
  40 | >>> RUN pnpm install --frozen-lockfile --offline --ignore-scripts
  41 |     
  42 |     # 7. 执行必要的 rebuild (为需要编译的原生模块)
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c pnpm install --frozen-lockfile --offline --ignore-scripts" did not complete successfully: exit code: 1
