# n8n 源码构建 Dockerfile .dockerignore
# 已修改以允许 monorepo 构建所需的源码文件

# 忽略常见的无用文件
node_modules/
.git/
.vscode/
.idea/
*.bak
*.swp
dist/

# 允许 monorepo 配置文件
!package.json
!pnpm-lock.yaml
!pnpm-workspace.yaml
!turbo.json
!.npmrc
!scripts/
!scripts/**

# 允许源码构建所需的所有包和补丁
!packages/
!packages/**
!patches/
!patches/**

# 允许 Docker 构建文件
!docker/
!docker/**

# 允许预编译文件（为了与官方构建保持兼容）
!compiled/
!compiled/**

# 允许 pnpm store 缓存（用于离线构建）
!.pnpm-store/
!.pnpm-store/**

# 其他必要文件
!THIRD_PARTY_LICENSES.md
!.github/
!.github/**